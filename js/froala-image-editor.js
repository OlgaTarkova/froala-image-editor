/*!
 * This file contains N1ED component.
 * Developer: N1ED/EdSDK
 * Website: https://n1ed.com/
 * License: Private N1ED license
 */
!function(e){var n={};function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(a,r,function(n){return e[n]}.bind(null,r));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=1)}([,function(e,n){!function(e){if(!e.PLUGINS.image)throw new Error("ImgPen plugin requires image plugin to be enabled in Froala.");if(e.PLUGINS.ImgPen)throw new Error("ImgPen plugin was already registered.");e.RegisterCommand("ImgPen",{title:"Edit image with ImgPen",undo:!1,focus:!1,modal:!0,callback:function(){this.ImgPen.launch(this,!0,null)},plugin:"ImgPen"}),e.DefineIcon("ImgPen",{NAME:"folder",PATH:"M3,17v2h6v-2H3z M3,5v2h10V5H3z M13,21v-2h8v-2h-8v-2h-2v6H13z M7,9v2H3v2h4v2h2V9H7z M21,13v-2H11v2H21z M15,9h2V7h4V5h-4  V3h-2V9z"}),e.DEFAULTS.imageEditButtons.push("ImgPen"),e.PLUGINS.ImgPen=function(n){return{_init:function(){var e=n.opts.Flmngr&&"string"==typeof n.opts.Flmngr.apiKey?n.opts.Flmngr.apiKey:n.opts.ImgPen&&"string"==typeof n.opts.ImgPen.apiKey?n.opts.ImgPen.apiKey:"FROADFLT";window.onImgPenLoaded=function(){n.isImgPenLoaded=!0},function(e,n,t){n||(n=document);for(var a=n.getElementsByTagName("script"),r=!1,i=0;i<a.length;i++){var o=a[i].getAttribute("src");o&&-1!==o.indexOf(e)&&(r=!0,a[i])}if(r)return null;var l=n.createElement("script");l.type="text/javascript",null!=t&&(l.readyState?l.onreadystatechange=function(){"loaded"!==l.readyState&&"compvare"!==l.readyState||(l.onreadystatechange=null)}:l.onload=function(){}),l.src=e,n.getElementsByTagName("head")[0].appendChild(l)}("https://cloud.n1ed.com/cdn/"+e+"/n1imgpen.js",document,function(){}),n.imageTUI||(n.imageTUI={}),n.imageTUI.launch=n.ImgPen.launch,-1===n.opts.pluginsEnabled.indexOf("imageTUI")&&n.opts.pluginsEnabled.push("imageTUI"),new MutationObserver(function(e){for(var n=0;n<e.length;n++){var t=e[n];if(t.addedNodes)for(var a=0;a<t.addedNodes.length;a++){var r=t.addedNodes.item(a);if(r.nodeType===Node.ELEMENT_NODE&&r.classList.contains("fr-popup")){var i=r.querySelector("[data-cmd='imageTUI']");i&&i.parentElement.removeChild(i)}}}}).observe(document.getElementsByTagName("body")[0],{childList:!0,subtree:!0})},launch:function(n,t,a){var r=function(){if(n.Flmngr.checkConfWithAlert()){var e,r=(e=t?n.image.get()[0]:n.filesManager.get()).src,i="ImgPen"in n.opts?n.opts.ImgPen:{};i.integration="froala",window.imgpen.create(i).editImage({url:r,forcePng:!1,onCancel:function(){n.filesManager.setChildWindowState(!1)},onSave:function(r,i){if(t)n.image.edit(n.$(e)),n.image.upload([r]);else{var o=new Blob([r],{type:r.type});n.filesManager.saveImage([o]),null!=a?(n.filesManager.upload(o,[o],null,a),n.filesManager.getFileThumbnail(a,o,!0)):n.filesManager.upload(o,[o],null,e)}n.filesManager.setChildWindowState(!1),i(!0)}})}};!function t(){!0!==n.isImgPenLoaded||e.PLUGINS.Flmngr&&!0!==n.isFlmngrLoaded?setTimeout(function(){t()},50):r()}()}}}}(window.FroalaEditor)}]);